namespace Lizards.Mvctoolkit.Demo
{
  using Lizards.MvcToolkit.Core.Blocks;
  using Lizards.MvcToolkit.Core.Blocks.Data;
  using Lizards.MvcToolkit.Core.Blocks.Defaults;
  using Lizards.MvcToolkit.Core.Startup;
  using Microsoft.AspNetCore.Hosting;
  using Microsoft.Extensions.Configuration;

  /// <summary>
  ///
  /// </summary>
  /// <seealso cref="Lizards.MvcToolkit.Core.Blocks.Startup" />
  /// <autogeneratedoc />
  public sealed class DemoStartup : Startup
  {
    /// <summary>
    /// Initializes a new instance of the <see cref="DemoStartup"/> class.
    /// </summary>
    /// <param name="env">The env.</param>
    /// <param name="configuration">The configuration.</param>
    /// <autogeneratedoc />
    public DemoStartup(IHostingEnvironment env, IConfiguration configuration)
      : base(env, configuration)
    {
      this.Apply(new BasicAspNetBlock(this.ExceptionHandlingRoute));
      this.Apply<CQRSBlock>();
      this.Apply<LamarServiceRegistryBlock<IocRegistry>>();
      this.Apply<HttpClientFactoryBlock>();
      this.Apply(new AssembliesScanList("Lizards.Mvctoolkit.Demo"));
    }

    /// <summary>Gets the exception handling route.</summary>
    /// <value>The exception handling route.</value>
    /// <autogeneratedoc />
    private string ExceptionHandlingRoute => "/home/error";
  }
}
